#include <stdio.h>#include <stdlib.h>//defining the maximum possible password length#define MAX_LENGHT 100/* ***************************************** Declaring all used functions ******************************************* *///checks the value of argc, if the value is wrong, program prints an errorint argc_checker (int argc);//checks the value of level, if the value is wrong, program prints an errorint level_checker(char **argv);//checks the value of parameter, if the value is wrong, program prints an errorint param_checker(char **argv);//checks if the specified value is --statsint stats_checker(char **argv);//checks if the password does not exceed the maximum allowed lengthint length_checker(char * str);//checks in the password the condition that enters the parameter number, if they match returns TRUEint parameter(char str);/*checks all passwords from stdin if they are correct, prints them on stdout, if they are incorrect, does not print them on stdout;it also detects the number of different characters, the minimum password length, and the average password length*/int password_checker(int lvl, int par, char **argv);//the function checks whether the password contains lowercase and uppercase letters, if yes it will return TRUEint level_1();//the function checks whether the password contains the given number of parameters from the user, if yes it will return TRUEint level_2(int par);//the function checks whether the password does not contain the same number of characters, the number of the same characters is given by the parameterint level_3(char *str, int par);//the function checks whether the password does not contain two identical substringsint level_4(char * str, int param);//function that detects the length of a passwordint strLen(char * str);//comparing two strings if they are equal, function return TRUEint my_strcmp(char * first_str, char * second_str, int length);typedef enum { FALSE , TRUE } boolean;boolean parameter_1, parameter_2, parameter_3, parameter_4, is_char;int main(int argc, char **argv){    int arg = argc_checker(argc);    int level = level_checker(argv);    int param = param_checker(argv);    int stats = stats_checker(argv);    if (param == 0 || level == 0 ||  stats == 1|| arg == 1) return 1;    int pass = password_checker(level, param, argv);    if (pass == 1){        return 1;    }    return 0;}int argc_checker(int argc){    if (argc < 3 || argc > 4){        fprintf(stderr,"Insufficient number of arguments\n");        return 1;    }    return 0;}int level_checker(char **mainArgv){    char *buffer;    long lvl = strtol(mainArgv[1], &buffer ,10);    if ((*buffer != '\0')|| (lvl == '\0') || lvl < 0 || lvl > 4){        fprintf(stderr,"Level input error\n");        return 0;    }    return lvl;}int param_checker(char **mainArgv){    char *buffer;    long long par = strtoll(mainArgv[2], &buffer,10);    if ((*buffer != '\0') || (par == '\0') || (par < 0 )){        fprintf(stderr,"Parameter input error\n");        return 0;    }    return par;}int stats_checker(char **argv){    char * str  = argv[3];    char * stat = "--stats";    if (str != NULL){        if (strLen(str) != strLen(stat)){            fprintf(stderr, "Statistic input error\n");            return 1;        }        if (my_strcmp(str, stat, strLen(stat)) == FALSE){            fprintf(stderr, "Statistic input error\n");            return 1;        } else            return 2;    }    return FALSE;}int length_checker(char * str){    if (strLen(str) > MAX_LENGHT){        fprintf(stderr,"Password exceeds maximum length\n");        return  1;    }    return 0;}int parameter(char  str){    if (str >= 'a' && str <= 'z'){        return parameter_1 = TRUE;    }    if (str >= 'A' && str <= 'Z'){        return parameter_2 = TRUE;    }    if (str >= '0' && str <= '9'){        return parameter_3 = TRUE;    }    if ((str >= ' ' && str <= '/') || (str >= ':' && str <= '@') || (str >= '[' && str <= '`')){        return parameter_4 = TRUE;    }    return 0;}int password_checker(int lvl ,int par, char **argv){    char buffer[102];    char char_used[96];             //maximum number of different characters    char * str = buffer;    int diff_char;    int min, max = MAX_LENGHT;    float count_char = 0;           //used to count letters    float count_pass = 0;           //used to count passwords    while(fgets(buffer, sizeof(buffer), stdin) != NULL)    {        if (length_checker(str)== 1 ){            return 1;        }        if (strLen(str) != '\0'){                                                       // counting characters and passwords            count_pass++;            count_char = count_char + strLen(str);        }        if (strLen(str) <= max && strLen(str) != '\n' && strLen(str) != '\0'){          // Searching for the shortest password            min = strLen(str);            max = min;        }        int b =  0;                                                                     // Searching for the number of different characters        while (char_used[b] != '\0'){            b++;        }        for (int i = 0; str[i] != '\n' && str[i] != '\0'; i++){            is_char = FALSE;            for (int j = 0; char_used[j] != '\0' ; j++){                if (str[i] == char_used[j]){                    is_char = TRUE;                }            }            if (is_char == FALSE){                char_used[b]= str[i];                b++;                char_used[b]= '\0';            }        }        diff_char = b;        parameter_1 = FALSE;        parameter_2 = FALSE;        parameter_3 = FALSE;        parameter_4 = FALSE;        for (int i = 0; str[i] != '\0'; i++) {            parameter(str[i]);        }        if (lvl == 1 ){            if (level_1() == FALSE)                continue;        }else if (lvl == 2){            if (level_1(par) == FALSE || (level_2(par) == FALSE))                continue;        }else if (lvl == 3){            if ((level_1(par) == FALSE) || (level_2(par) == FALSE) || (level_3(str, par) == FALSE))                continue;        }else if (lvl == 4){            if ((level_1() == FALSE) || (level_2(par) == FALSE) || (level_3(str, par) == FALSE) || (level_4(str, par) == FALSE))                continue;        }        printf("%s",buffer);    }    if (stats_checker(argv) == 2){        printf("Statistika:\n");        printf("Ruznych znaku: %d\n", diff_char);        printf("Minimalni delka: %d\n", min);        if (count_pass >= 1){            printf("Prumerna delka: %.1f\n", count_char / count_pass);        } else if (count_pass < 1){            printf("Prumerna delka: 0.0\n");        }    }    return 0;}int level_1(){    if (parameter_1 == TRUE && parameter_2 == TRUE){        return TRUE;    }    return FALSE;}int level_2(int par){    if (par == 1){        if ((parameter_1 + parameter_2 + parameter_3 + parameter_4) > 0)            return TRUE;    }    if (par == 2){        if ((parameter_1 + parameter_2 + parameter_3 + parameter_4) > 1)            return TRUE;    }    if (par == 3){        if ((parameter_1 + parameter_2 + parameter_3 + parameter_4) > 2)            return TRUE;    }    if (par >= 4){        if ((parameter_1 + parameter_2 + parameter_3 + parameter_4) > 3)            return TRUE;    }    return FALSE;}int level_3(char *str, int par){    int count = 1;    for (int i = 0; i < strLen(str); i++) {        for ( int j = i + 1; j < strLen(str); j++) {            if (str[i] == str[j]) {                count++;                break;            }else if (str[i] != str[j]){                break;            }        }    }    if (count < par)        return TRUE;    return FALSE;}int level_4(char * str, int par){    int length = strLen(str);    length -= par;    while (length > 0)    {        for (int i = 0; i < length; ++i)        {            if (my_strcmp(str, str + i + 1, par) == TRUE)                return FALSE;        }        str++;        length--;    }    return TRUE;}int strLen(char * str){    char * start = str;    while (*str != '\n' && *str != '\0')        str++;    return str - start;}int my_strcmp(char * first_str, char * second_str , int length){    while (length > 0)    {        if (*first_str != *second_str)            return FALSE;        first_str++;        second_str++;        length--;    }    return TRUE;}